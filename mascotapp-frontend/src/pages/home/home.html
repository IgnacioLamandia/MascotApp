<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>MascotApp</ion-title>
    
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="containerHome">
    <ion-card [ngClass]="{'ionic-container': isDesktop }" *ngFor="let post of posts" fixed>
      <img id="image" src="data:image/jpg;base64,{{post.image}}"  [width]="imgWidth" [height]="imgHeight"/>
      <ion-card-content>
        <ion-card-title>
          {{post.category}}
        </ion-card-title>
        <p class="card-text">{{post.title}}</p>
        <p class="card-text"><ion-icon name="pin"></ion-icon><small class="text-muted">{{post.address}}</small></p>
        <button ion-button (click)="viewPost(post)">  <ion-icon name="paw"></ion-icon>
            Ver m&aacute;s
        </button>
<!-- Botones para cambiar estados -->
    <div class="request-button" *ngIf="isNotMyPostAndNewState()">
      <button ion-button block color="secondary" (click)="requestPost()"> Solicitar </button>
    </div>

    <div class="confirm-decline-request-buttons" *ngIf="isMyPostAndRequestState()">
      <button ion-button block color="danger" (click)="declineRequest()"> Denegar </button>
      <button ion-button block color="secondary" (click)="confirmRequest()"> Confirmar </button>
    </div>

    <div class="collect-button" *ngIf="isNotMyPostAndRequestState()">
      <button ion-button block color="secondary" (click)="collectPost()"> Retirar </button>
    </div>

    <div class="done-notDone-collect-buttons" *ngIf="isMyPostAndCollectState()">
      <button ion-button block color="danger" (click)="collecteNotDone()"> No retiro </button>
      <button ion-button block color="secondary" (click)="collectDone()"> Confirmar retiro </button>
    </div>

      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
