
<ion-header>
  <ion-navbar>
    <ion-title>Publicaci&oacute;n</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding >
    <div class="container">
      <h2>{{post.category}}</h2>
    </div>
    <div class="container">
       <img id="image" src="data:image/jpg;base64,{{post.image}}"  [width]="imgWidth" [height]="imgHeight"/>
       <h4>{{post.title}}</h4>
       <h4>{{post.description}}</h4>
       <h4>{{post.address}}</h4>
    </div>

    <div id="map"></div>

    <div class="comment-list">
      <h4>Comentarios:</h4>
      <ion-card [ngClass]="{'ionic-container': isDesktop }" *ngFor="let com of comments" fixed>
        <ion-item>
            <ion-icon item-start name="contact"></ion-icon>   <h2>{{com.name}}</h2>   <p>{{com.email}}</p>
          </ion-item>
        <ion-card-content>
          <p class="card-text">{{com.text}}</p>
        </ion-card-content>
      </ion-card>
    </div>

    <div class="comment-box" [formGroup]="formularioComment" (ngSubmit)="saveData()" novalidate>
      <h4>Deja tu comentario</h4>
      
    	<ion-list>
    	  <ion-item>
          <ion-label color="primary" class="labelEdicion" floating> Mensaje </ion-label>
          <ion-input formControlName="text" type="text" placeholder="Mensaje" name="text" [(ngModel)]="commentData.text" ></ion-input>
       </ion-item>
       <ion-item *ngIf="formularioComment.get('text').errors && formularioComment.get('text').dirty">
        <p *ngIf="formularioComment.get('text').hasError('required')" style="white-space: normal; color:red">El mensaje es requerido.</p>
        <p *ngIf="formularioComment.get('text').hasError('maxlength')" style="white-space: normal; color:red">El maximo de caracteres permitidos es 200.</p>
        <p *ngIf="formularioComment.get('text').hasError('minlength')" style="white-space: normal; color:red">El minimo de caracteres permitidos es 5.</p>
      </ion-item>

       <ion-item>
         <ion-label color="primary" class="labelEdicion" floating> Nombre </ion-label>
         <ion-input formControlName="name" type="text" placeholder="Nombre" name="name" [(ngModel)]="commentData.name" ></ion-input>
       </ion-item>
       <ion-item *ngIf="formularioComment.get('name').errors && formularioComment.get('name').dirty">
        <p *ngIf="formularioComment.get('name').hasError('required')" style="white-space: normal; color:red">El nombre es requerido.</p>
        <p *ngIf="formularioComment.get('name').hasError('maxlength')" style="white-space: normal; color:red">El maximo de caracteres permitidos es 50.</p>
        <p *ngIf="formularioComment.get('name').hasError('minlength')" style="white-space: normal; color:red">El minimo de caracteres permitidos es 4.</p>
      </ion-item>

       <ion-item>
         <ion-label color="primary" class="labelEdicion" floating> Email </ion-label>
         <ion-input formControlName="email" type="email" placeholder="Email" name="email" [(ngModel)]="commentData.email" ></ion-input>
      </ion-item>
      <ion-item *ngIf="formularioComment.get('email').errors && formularioComment.get('email').dirty">
        <p *ngIf="formularioComment.get('email').hasError('required')" style="white-space: normal; color:red">El email es requerido.</p>
        <p *ngIf="formularioComment.get('email').hasError('email')" style="white-space: normal; color:red">El email indicado no es valido.</p>
      </ion-item>
    </ion-list>
    <ion-item>
      <button ion-button block type="submit" [disabled]="!formularioComment.valid" (click)="saveComment()" >Comentar</button>
    </ion-item>
    </div>

</ion-content>